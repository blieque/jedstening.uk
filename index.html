---
title:  Home
layout: main
---

{% assign split_string = "|" %}
{% assign title_slugs = "" %}

{% if site.data.projects %}
<section>
    {% for project in site.data.projects %}

    {% assign project_id = project.id %}
    {% if 10 > project.id %}
        {% capture project_id %}0{{ project_id }}{% endcapture %}
    {% endif %}

    {% assign project_title = project.title %}
    {% unless project.title.size > 0 %}
        {% assign project_title = "Untitled" %}
    {% endunless %}

    {% assign project_slug = project_title | slugify %}
    {% if title_slugs.size > 0 %}
        {% capture title_slugs %}{{ title_slugs }}{{ split_string }}{% endcapture %}
    {% endif %}
    {% capture title_slugs %}{{ title_slugs }}{{ project_slug }}{% endcapture %}
    {% assign slug_array = title_slugs | split: split_string %}
    {% assign count = 0 %}
    {% for slug in slug_array %}
        {% if slug == project_slug %}
            {% assign count = count | plus: 1 %}
        {% endif %}
    {% endfor %}
    {% if count > 1 %}
        {% assign project_slug = project_slug | append: "-" | append: count %}
    {% endif %}

    <a id="project-{{ project_id }}" href="{{ site.address }}{{ site.baseurl }}/{{ project_slug }}">
        <img src="{{ site.address }}{{ site.baseurl }}/images/preview/{{ project_id }}.jpg" alt="{{ project.title }}">
        <div>
            <div><div><h2>{{ project.title }}</h2><span></span><p>{{ project.descriptionShort }}</p></div></div>
        </div>
    </a>

    {% endfor %}

    <div id="gallery">
        <div>
            <img alt="" id="stretch" src="{{ site.address }}{{ site.baseurl }}/images/ratio.svg">
            {% for image in (1..site.data.projects[0].galleryCount) %}
                {% capture image_pad %}{{ image }}{% endcapture %}
                {% if 10 > image %}
                    {% capture image_pad %}0{{ image }}{% endcapture %}
                {% endif %}
                <img alt="Image of project" src="{{ site.address }}{{ site.baseurl }}/images/full/01.{{ image_pad }}.png">
            {% endfor %}
            <div class="cover l"></div>
            <div class="cover r"></div>
            <div id="content">
                <nav>
                    <!--<a id="proj-prev" href="">Previous Project</a>-->
                    {% for image in (1..site.data.projects[0].galleryCount) %}
                        {% capture image_pad %}{{ image }}{% endcapture %}
                        {% if 10 > image %}
                            {% capture image_pad %}0{{ image }}{% endcapture %}
                        {% endif %}
                        <a href="#"><img src="{{ site.address }}{{ site.baseurl }}/images/thumb/01.{{ image_pad }}.png" alt=""></a>
                    {% endfor %}
                    <!--<a id="proj-next" href="">Next Project</a>-->
                </nav>
                <article>
                    <h2>Project Title</h2>
                    <p>Description</p>
                    <p>Even more description; like I need some copy, copy, some copy is what I need.</p>
                </article>
            </div>
            <span></span>
        </div>
    </div>
</section>
<span id="css-to-js"></span>
{% endif %}
